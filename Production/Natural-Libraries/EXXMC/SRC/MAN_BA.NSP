* >Natural Source Header 000000
* :Mode S
* :CP ISO_8859-1:1987
* :LineIncrement 10
* <Natural Source Header
* Web Application Online
* Member Information module
*
********************************************************
*        MODIFICATION LOG
********************************************************
* USER   DATE      TAG  REASON
* YAK    03092009       Initial Creation
********************************************************
*
* DEFINE DATA PARAMETER
*
define data
*
LOCAL USING PARSER-X
LOCAL USING GPRA0003
LOCAL
1 PROCESS-NAME      (A) DYNAMIC
1 REQUEST-DATA      (A) DYNAMIC
1 RESPONSE-DATA     (A) DYNAMIC       /* Out
1 RETURN-MESSAGE    (A78)
*
END-DEFINE
*
RESET RESPONSE-DATA
COMPRESS
*
* '<Members>'
*   '<ActionType>1</ActionType>'
*   '<ErrorCode>0</ErrorCode>'
*   '<UserID>AAFMAA\member</UserID>'
*   '<CN>77968</CN>'
*   '<TotalAmount>0</TotalAmount>'
*   '<BankAccounts>'
*    '<BankAccount>'
*    '<MethodID>1</MethodID>'
*    '<AccountCN>77968</AccountCN>'
*    '<CheckID>0</CheckID>'
*    '<CheckType>EZ-Pay</CheckType>'
*    '<RoutingNumber>053000219</RoutingNumber>'
*    '<AccountNumber>1018683588257</AccountNumber>'
*    '<AccountType>DDA</AccountType>'
*    '<AccountHolderFirstName>THOMAS</AccountHolderFirstName>'
*    '<AccountHolderLastName>LAX</AccountHolderLastName>'
*    '<AccountStreet>8703 WHITTINGHAM DR</AccountStreet>'
*    '<AccountCity>WAXHAW</AccountCity>'
*    '<AccountState>NC</AccountState>'
*    '<AccountZipCode>28173</AccountZipCode>'
*   '</BankAccount>'
*   '</BankAccounts>'
* '</Members>'
* '<Members>'
*   '<ActionType>1</ActionType>'
*   '<ErrorCode>0</ErrorCode>'
*   '<UserID>AAFMAA\member</UserID>'
*   '<CN>77968</CN>'
*   '<TotalAmount>0</TotalAmount>'
*   '<BankAccounts>'
*    '<BankAccount>'
*    '<MethodID>1</MethodID>'
*    '<AccountCN>77968</AccountCN>'
*    '<CheckID>0</CheckID>'
*    '<CheckType>eCheck</CheckType>'
*    '<RoutingNumber>314074269</RoutingNumber>'
*    '<AccountNumber>1010086897255</AccountNumber>'
*    '<AccountType>DDA</AccountType>'
*    '<AccountHolderFirstName>THOMAS</AccountHolderFirstName>'
*    '<AccountHolderLastName>LAX</AccountHolderLastName>'
*    '<AccountStreet>8703 WHITTINGHAM DR</AccountStreet>'
*    '<AccountCity>WAXHAW</AccountCity>'
*    '<AccountState>NC</AccountState>'
*    '<AccountZipCode>28173</AccountZipCode>'
*   '</BankAccount>'
*   '</BankAccounts>'
* '</Members>'
* '<Members>'
*   '<ActionType>1</ActionType>'
*   '<ErrorCode>0</ErrorCode>'
*   '<UserID>AAFMAA\member</UserID>'
*   '<CN>77968</CN>'
*   '<TotalAmount>0</TotalAmount>'
*   '<BankAccounts>'
*    '<BankAccount>'
*    '<MethodID>1</MethodID>'
*    '<AccountCN>77968</AccountCN>'
*    '<CheckID>0</CheckID>'
*    '<CheckType>EZ-Pay</CheckType>'
*    '<RoutingNumber>111000025</RoutingNumber>'
*    '<AccountNumber>1231234567</AccountNumber>'
*    '<AccountType>DDA</AccountType>'
*    '<AccountHolderFirstName>THOMAS</AccountHolderFirstName>'
*    '<AccountHolderLastName>LAX</AccountHolderLastName>'
*    '<AccountStreet>8703 WHITTINGHAM DR</AccountStreet>'
*    '<AccountCity>WAXHAW</AccountCity>'
*    '<AccountState>NC</AccountState>'
*    '<AccountZipCode>28173</AccountZipCode>'
*   '</BankAccount>'
*   '</BankAccounts>'
* '</Members>'
*
* '<Members>'
*   '<ActionType>5</ActionType>'
*   '<ErrorCode>0</ErrorCode>'
*   '<UserID>AAFMAA\member</UserID>'
*   '<CN>77968</CN>'
*   '<TotalAmount>0</TotalAmount>'
*   '<BankAccounts>'
*     '<BankAccount>'
*       '<MethodID>2</MethodID>'
*       '<CheckID>2</CheckID>'
*       '<AccountCN>77968</AccountCN>'
*       '<CheckType>EZ-Pay</CheckType>'
*       '<BankName>USAA FEDERAL SAVINGS BANK</BankName>'
*       '<RoutingNumber>314074269</RoutingNumber>'
*       '<AccountNumber>1010086897255</AccountNumber>'
*       '<AccountType>DDA</AccountType>'
*       '<AccountHolderFirstName>THOMA</AccountHolderFirstName>'
*       '<AccountHolderLastName>LAX</AccountHolderLastName>'
*       '<AccountStreet>8703 WHITTINGHAM DR</AccountStreet>'
*       '<AccountCity>WAXHAW</AccountCity>'
*       '<AccountState>NC</AccountState>'
*       '<AccountZipCode>28173</AccountZipCode>'
*       '<UsedForRecurringPayments>false</UsedForRecurringPayments>'
*     '</BankAccount>'
*   '</BankAccounts>'
* '</Members>'
* '<Members>'
*   '<ActionType>1</ActionType>'
*   '<ErrorCode>0</ErrorCode>'
*   '<UserID>AAFMAA\member</UserID>'
*   '<CN>61527</CN>'
*   '<TotalAmount>0</TotalAmount>'
*   '<BankAccounts>'
*     '<BankAccount>'
*       '<AccountCN>61527</AccountCN>'
*       '<CheckType>EZ-Pay</CheckType>'
*       '<BankName>FEDERAL RESERVE BANK</BankName>'
*       '<RoutingNumber>011000015</RoutingNumber>'
*       '<AccountNumber>55555</AccountNumber>'
*       '<AccountType>DDA</AccountType>'
*       '<AccountHolderFirstName>asfas</AccountHolderFirstName>'
*       '<AccountHolderLastName>asfaf</AccountHolderLastName>'
*       '<AccountStreet>dfgfd</AccountStreet>'
*       '<AccountCity>dfgdfg</AccountCity>'
*       '<AccountState>LA</AccountState>'
*       '<AccountZipCode>35634</AccountZipCode>'
*       '<UsedForRecurringPayments>false</UsedForRecurringPayments>'
*     '</BankAccount>'
*   '</BankAccounts>'
* '</Members>'
*
'<Members>'
  '<ActionType>2</ActionType>'
  '<ErrorCode>0</ErrorCode>'
  '<UserID>AAFMAA\member</UserID>'
  '<CN>133424</CN>'
  '<TotalAmount>0</TotalAmount>'
  '<BankAccounts>'
    '<BankAccount>'
      '<MethodID>1</MethodID>'
      '<CheckID>0</CheckID>'
      '<AccountCN>133424</AccountCN>'
      '<CheckType>EZ-Pay</CheckType>'
      '<BankName>FIRST CITIZENS BANK &amp; TRUST COMPANY</BankName>'
      '<RoutingNumber>053100300</RoutingNumber>'
      '<AccountNumber>000349006513</AccountNumber>'
      '<AccountType>DDA</AccountType>'
      '<AccountHolderFirstName>LENWOOD</AccountHolderFirstName>'
      '<AccountHolderLastName>WHARTON</AccountHolderLastName>'
      '<AccountStreet>609 CREEDMOORE CIR</AccountStreet>'
      '<AccountCity>HOPE MILLS</AccountCity>'
      '<AccountState>NC</AccountState>'
      '<AccountZipCode>28348</AccountZipCode>'
      '<UsedForRecurringPayments>true</UsedForRecurringPayments>'
    '</BankAccount>'
  '</BankAccounts>'
'</Members>'
*
INTO REQUEST-DATA LEAVING NO
*
 PROCESS-NAME := 'ManageBankAccounts'
*
CALLNAT 'NATSERV0' PROCESS-NAME REQUEST-DATA RESPONSE-DATA
repeat
RETURN-MESSAGE := RESPONSE-DATA
WRITE RETURN-MESSAGE
if *length(response-data) > 78
 response-data := substr(response-data,79)
else
  escape bottom
end-if
end-repeat
END
